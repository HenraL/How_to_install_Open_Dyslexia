!function(e){e.anythingSlider=function(t,a){var i,n,s=this;s.el=t,s.$el=e(t).addClass("anythingBase").wrap('<div class="anythingSlider"><div class="anythingWindow" /></div>'),s.$el.data("AnythingSlider",s),s.init=function(){s.options=i=e.extend({},e.anythingSlider.defaults,a),s.initialized=!1,e.isFunction(i.onBeforeInitialize)&&s.$el.bind("before_initialize",i.onBeforeInitialize),s.$el.trigger("before_initialize",s),e('<!--[if lte IE 8]><script>jQuery("body").addClass("as-oldie");</script><![endif]-->').appendTo("body").remove(),s.$wrapper=s.$el.parent().closest("div.anythingSlider").addClass("anythingSlider-"+i.theme),s.$window=s.$el.closest("div.anythingWindow"),s.win=window,s.$win=e(s.win),s.$controls=e('<div class="anythingControls"></div>'),s.$nav=e('<ul class="thumbNav"><li><a><span></span></a></li></ul>'),s.$startStop=e('<a href="#" class="start-stop"></a>'),(i.buildStartStop||i.buildNavigation)&&s.$controls.appendTo(i.appendControlsTo&&e(i.appendControlsTo).length?e(i.appendControlsTo):s.$wrapper),i.buildNavigation&&s.$nav.appendTo(i.appendNavigationTo&&e(i.appendNavigationTo).length?e(i.appendNavigationTo):s.$controls),i.buildStartStop&&s.$startStop.appendTo(i.appendStartStopTo&&e(i.appendStartStopTo).length?e(i.appendStartStopTo):s.$controls),s.runTimes=e(".anythingBase").length,s.regex=new RegExp("panel"+s.runTimes+"-(\\d+)","i"),1===s.runTimes&&s.makeActive(),s.flag=!1,s.playing=i.autoPlay,s.slideshow=!1,s.hovered=!1,s.panelSize=[],s.currentPage=s.targetPage=i.startPanel=parseInt(i.startPanel,10)||1,i.changeBy=parseInt(i.changeBy,10)||1,n=(i.mode||"h").toLowerCase().match(/(h|v|f)/),n=i.vertical?"v":(n||["h"])[0],i.mode="v"===n?"vertical":"f"===n?"fade":"horizontal","f"===n&&(i.showMultiple=1,i.infiniteSlides=!1),s.adj=i.infiniteSlides?0:1,s.adjustMultiple=0,s.width=s.$el.width(),s.height=s.$el.height(),s.outerPad=[s.$wrapper.innerWidth()-s.$wrapper.width(),s.$wrapper.innerHeight()-s.$wrapper.height()],i.playRtl&&s.$wrapper.addClass("rtl"),i.expand&&(s.$outer=s.$wrapper.parent(),s.$window.css({width:"100%",height:"100%"}),s.checkResize()),i.buildStartStop&&s.buildAutoPlay(),i.buildArrows&&s.buildNextBackButtons(),i.autoPlay||(i.autoPlayLocked=!1),s.$lastPage=s.$targetPage=s.$currentPage,s.updateSlider(),e.isFunction(e.easing[i.easing])||(i.easing="swing"),i.pauseOnHover&&s.$wrapper.hover(function(){s.playing&&(s.$el.trigger("slideshow_paused",s),s.clearTimer(!0))},function(){s.playing&&(s.$el.trigger("slideshow_unpaused",s),s.startStop(s.playing,!0))}),s.slideControls(!1),s.$wrapper.bind("mouseenter mouseleave",function(t){e(this)["mouseenter"===t.type?"addClass":"removeClass"]("anythingSlider-hovered"),s.hovered="mouseenter"===t.type?!0:!1,s.slideControls(s.hovered)}),e(document).keyup(function(e){if(i.enableKeyboard&&s.$wrapper.hasClass("activeSlider")&&!e.target.tagName.match("TEXTAREA|INPUT|SELECT")){if("vertical"!==i.mode&&(38===e.which||40===e.which))return;switch(e.which){case 39:case 40:s.goForward();break;case 37:case 38:s.goBack()}}}),s.currentPage=s.gotoHash()||i.startPanel||1,s.gotoPage(s.currentPage,!1,null,-1);var t="slideshow_paused slideshow_unpaused slide_init slide_begin slideshow_stop slideshow_start initialized swf_completed".split(" ");e.each("onShowPause onShowUnpause onSlideInit onSlideBegin onShowStop onShowStart onInitialized onSWFComplete".split(" "),function(a,n){e.isFunction(i[n])&&s.$el.bind(t[a],i[n])}),e.isFunction(i.onSlideComplete)&&s.$el.bind("slide_complete",function(){return setTimeout(function(){i.onSlideComplete(s)},0),!1}),s.initialized=!0,s.$el.trigger("initialized",s),s.startStop(i.autoPlay)},s.updateSlider=function(){if(s.$el.children(".cloned").remove(),s.navTextVisible="hidden"!==s.$nav.find("span:first").css("visibility"),s.$nav.empty(),s.currentPage=s.currentPage||1,s.$items=s.$el.children(),s.pages=s.$items.length,s.dir="vertical"===i.mode?"top":"left",i.showMultiple="vertical"===i.mode?1:parseInt(i.showMultiple,10)||1,i.navigationSize=i.navigationSize===!1?0:parseInt(i.navigationSize,10)||0,s.$items.find("a").unbind("focus.AnythingSlider").bind("focus.AnythingSlider",function(t){var a=e(this).closest(".panel"),n=s.$items.index(a)+s.adj;s.$items.find(".focusedLink").removeClass("focusedLink"),e(this).addClass("focusedLink"),s.$window.scrollLeft(0).scrollTop(0),-1!==n&&(n>=s.currentPage+i.showMultiple||n<s.currentPage)&&(s.gotoPage(n),t.preventDefault())}),i.showMultiple>1&&(i.showMultiple>s.pages&&(i.showMultiple=s.pages),s.adjustMultiple=i.infiniteSlides&&s.pages>1?0:i.showMultiple-1),s.$controls.add(s.$nav).add(s.$startStop).add(s.$forward).add(s.$back)[s.pages<=1?"hide":"show"](),s.pages>1&&s.buildNavigation(),"fade"!==i.mode&&i.infiniteSlides&&s.pages>1&&(s.$el.prepend(s.$items.filter(":last").clone().addClass("cloned")),i.showMultiple>1?s.$el.append(s.$items.filter(":lt("+i.showMultiple+")").clone().addClass("cloned multiple")):s.$el.append(s.$items.filter(":first").clone().addClass("cloned")),s.$el.find(".cloned").each(function(){e(this).find("a,input,textarea,select,button,area,form").attr({disabled:"disabled",name:""}),e(this).find("[id]").andSelf().removeAttr("id")})),s.$items=s.$el.addClass(i.mode).children().addClass("panel"),s.setDimensions(),i.resizeContents?(s.$items.css("width",s.width),s.$wrapper.css("width",s.getDim(s.currentPage)[0]).add(s.$items).css("height",s.height)):s.$win.load(function(){s.setDimensions(),t=s.getDim(s.currentPage),s.$wrapper.css({width:t[0],height:t[1]}),s.setCurrentPage(s.currentPage,!1)}),s.currentPage>s.pages&&(s.currentPage=s.pages),s.setCurrentPage(s.currentPage,!1),s.$nav.find("a").eq(s.currentPage-1).addClass("cur"),"fade"===i.mode){var t=s.$items.eq(s.currentPage-1);i.resumeOnVisible?t.css({opacity:1}).siblings().css({opacity:0}):(s.$items.css("opacity",1),t.fadeIn(0).siblings().fadeOut(0))}},s.buildNavigation=function(){if(i.buildNavigation&&s.pages>1){var t,a,n,o,r;s.$items.filter(":not(.cloned)").each(function(l){r=e("<li/>"),n=l+1,a=(1===n?" first":"")+(n===s.pages?" last":""),t='<a class="panel'+n+(s.navTextVisible?'"':" "+i.tooltipClass+'" title="@"')+' href="#"><span>@</span></a>',e.isFunction(i.navigationFormatter)?(o=i.navigationFormatter(n,e(this)),"string"==typeof o?r.html(t.replace(/@/g,o)):r=e("<li/>",o)):r.html(t.replace(/@/g,n)),r.appendTo(s.$nav).addClass(a).data("index",n)}),s.$nav.children("li").bind(i.clickControls,function(t){!s.flag&&i.enableNavigation&&(s.flag=!0,setTimeout(function(){s.flag=!1},100),s.gotoPage(e(this).data("index"))),t.preventDefault()}),i.navigationSize&&i.navigationSize<s.pages&&(s.$controls.find(".anythingNavWindow").length||s.$nav.before('<ul><li class="prev"><a href="#"><span>'+i.backText+"</span></a></li></ul>").after('<ul><li class="next"><a href="#"><span>'+i.forwardText+"</span></a></li></ul>").wrap('<div class="anythingNavWindow"></div>'),s.navWidths=s.$nav.find("li").map(function(){return e(this).outerWidth(!0)+Math.ceil(parseInt(e(this).find("span").css("left"),10)/2||0)}).get(),s.navLeft=s.currentPage,s.$nav.width(s.navWidth(1,s.pages+1)+25),s.$controls.find(".anythingNavWindow").width(s.navWidth(1,i.navigationSize+1)).end().find(".prev,.next").bind(i.clickControls,function(t){s.flag||(s.flag=!0,setTimeout(function(){s.flag=!1},200),s.navWindow(s.navLeft+i.navigationSize*(e(this).is(".prev")?-1:1))),t.preventDefault()}))}},s.navWidth=function(e,t){var a,i=Math.min(e,t),n=Math.max(e,t),o=0;for(a=i;n>a;a++)o+=s.navWidths[a-1]||0;return o},s.navWindow=function(e){if(i.navigationSize&&i.navigationSize<s.pages&&s.navWidths){var t=s.pages-i.navigationSize+1;e=1>=e?1:e>1&&t>e?e:t,e!==s.navLeft&&(s.$controls.find(".anythingNavWindow").animate({scrollLeft:s.navWidth(1,e),width:s.navWidth(e,e+i.navigationSize)},{queue:!1,duration:i.animationTime}),s.navLeft=e)}},s.buildNextBackButtons=function(){s.$forward=e('<span class="arrow forward"><a href="#"><span></span></a></span>'),s.$back=e('<span class="arrow back"><a href="#"><span></span></a></span>'),s.$back.bind(i.clickBackArrow,function(e){i.enableArrows&&!s.flag&&(s.flag=!0,setTimeout(function(){s.flag=!1},100),s.goBack()),e.preventDefault()}),s.$forward.bind(i.clickForwardArrow,function(e){i.enableArrows&&!s.flag&&(s.flag=!0,setTimeout(function(){s.flag=!1},100),s.goForward()),e.preventDefault()}),s.$back.add(s.$forward).find("a").bind("focusin focusout",function(){e(this).toggleClass("hover")}),s.$back.appendTo(i.appendBackTo&&e(i.appendBackTo).length?e(i.appendBackTo):s.$wrapper),s.$forward.appendTo(i.appendForwardTo&&e(i.appendForwardTo).length?e(i.appendForwardTo):s.$wrapper),s.arrowWidth=s.$forward.width(),s.arrowRight=parseInt(s.$forward.css("right"),10),s.arrowLeft=parseInt(s.$back.css("left"),10)},s.buildAutoPlay=function(){s.$startStop.html("<span>"+(s.playing?i.stopText:i.startText)+"</span>").bind(i.clickSlideshow,function(e){i.enableStartStop&&(s.startStop(!s.playing),s.makeActive(),s.playing&&!i.autoPlayDelayed&&s.goForward(!0)),e.preventDefault()}).bind("focusin focusout",function(){e(this).toggleClass("hover")})},s.checkResize=function(e){clearTimeout(s.resizeTimer),s.resizeTimer=setTimeout(function(){var t=s.$outer.width()-s.outerPad[0],a=("BODY"===s.$outer[0].tagName?s.$win.height():s.$outer.height())-s.outerPad[1];(s.width*i.showMultiple!==t||s.height!==a)&&(s.setDimensions(),s.gotoPage(s.currentPage,s.playing,null,-1)),"undefined"==typeof e&&s.checkResize()},500)},s.setDimensions=function(){var t,a,n,o,r=0,l={width:"100%",height:"100%"},d=i.showMultiple>1?s.width||s.$window.width()/i.showMultiple:s.$window.width(),p=s.$win.width();i.expand&&(t=s.$outer.width()-s.outerPad[0],s.height=a=s.$outer.height()-s.outerPad[1],s.$wrapper.add(s.$window).add(s.$items).css({width:t,height:a}),s.width=d=i.showMultiple>1?t/i.showMultiple:t),s.$items.each(function(g){o=e(this),n=o.children(),i.resizeContents?(t=s.width,a=s.height,o.css({width:t,height:a}),n.length&&("EMBED"===n[0].tagName&&n.attr(l),"OBJECT"===n[0].tagName&&n.find("embed").attr(l),1===n.length&&n.css(l))):(t=o.width()||s.width,1===n.length&&t>=p&&(t=n.width()>=p?d:n.width(),n.css("max-width",t)),o.css("width",t),a=1===n.length?n.outerHeight(!0):o.height(),a<=s.outerPad[1]&&(a=s.height),o.css("height",a)),s.panelSize[g]=[t,a,r],r+="vertical"===i.mode?a:t}),s.$el.css("vertical"===i.mode?"height":"width","fade"===i.mode?s.width:r)},s.getDim=function(e){var t,a=s.width,n=s.height;if(s.pages<1||isNaN(e))return[a,n];if(e=i.infiniteSlides&&s.pages>1?e:e-1,t=s.panelSize[e],t&&(a=t[0]||a,n=t[1]||n),i.showMultiple>1)for(t=1;t<i.showMultiple;t++)a+=s.panelSize[e+t][0],n=Math.max(n,s.panelSize[e+t][1]);return[a,n]},s.goForward=function(e){s.gotoPage(s[i.allowRapidChange?"targetPage":"currentPage"]+i.changeBy*(i.playRtl?-1:1),e)},s.goBack=function(e){s.gotoPage(s[i.allowRapidChange?"targetPage":"currentPage"]+i.changeBy*(i.playRtl?1:-1),e)},s.gotoPage=function(t,a,n,o){if(a!==!0&&(a=!1,s.startStop(!1),s.makeActive()),/^[#|.]/.test(t)&&e(t).length&&(t=e(t).closest(".panel").index()+s.adj),1!==i.changeBy){var r=s.pages-s.adjustMultiple;1>t&&(t=i.stopAtEnd?1:i.infiniteSlides?s.pages+t:i.showMultiple>1-t?1:r),t>s.pages?t=i.stopAtEnd?s.pages:i.showMultiple>1-t?1:t-=r:t>=r&&(t=r)}s.pages<=1||(s.$lastPage=s.$currentPage,"number"!=typeof t&&(t=parseInt(t,10)||i.startPanel,s.setCurrentPage(t)),a&&i.isVideoPlaying(s)||(s.exactPage=t,t>s.pages+1-s.adj&&(t=i.infiniteSlides||i.stopAtEnd?s.pages:1),t<s.adj&&(t=i.infiniteSlides||i.stopAtEnd?1:s.pages),i.infiniteSlides||(s.exactPage=t),s.currentPage=t>s.pages?s.pages:1>t?1:s.currentPage,s.$currentPage=s.$items.eq(s.currentPage-s.adj),s.targetPage=0===t?s.pages:t>s.pages?1:t,s.$targetPage=s.$items.eq(s.targetPage-s.adj),o="undefined"!=typeof o?o:i.animationTime,o>=0&&s.$el.trigger("slide_init",s),o>0&&s.slideControls(!0),i.buildNavigation&&s.setNavigation(s.targetPage),a!==!0&&(a=!1),(!a||i.stopAtEnd&&t===s.pages)&&s.startStop(!1),o>=0&&s.$el.trigger("slide_begin",s),setTimeout(function(e){var a,r=!0;i.allowRapidChange&&s.$wrapper.add(s.$el).add(s.$items).stop(!0,!0),i.resizeContents||(a=s.getDim(t),e={},s.$wrapper.width()!==a[0]&&(e.width=a[0]||s.width,r=!1),s.$wrapper.height()!==a[1]&&(e.height=a[1]||s.height,r=!1),r||s.$wrapper.filter(":not(:animated)").animate(e,{queue:!1,duration:0>o?0:o,easing:i.easing})),"fade"===i.mode?s.$lastPage[0]!==s.$targetPage[0]?(s.fadeIt(s.$lastPage,0,o),s.fadeIt(s.$targetPage,1,o,function(){s.endAnimation(t,n,o)})):s.endAnimation(t,n,o):(e={},e[s.dir]=-s.panelSize[i.infiniteSlides&&s.pages>1?t:t-1][2],s.$el.filter(":not(:animated)").animate(e,{queue:!1,duration:0>o?0:o,easing:i.easing,complete:function(){s.endAnimation(t,n,o)}}))},parseInt(i.delayBeforeAnimate,10)||0)))},s.endAnimation=function(e,t,a){0===e?(s.$el.css(s.dir,"fade"===i.mode?0:-s.panelSize[s.pages][2]),e=s.pages):e>s.pages&&(s.$el.css(s.dir,"fade"===i.mode?0:-s.panelSize[1][2]),e=1),s.exactPage=e,s.setCurrentPage(e,!1),"fade"===i.mode&&s.fadeIt(s.$items.not(":eq("+(e-s.adj)+")"),0,0),s.hovered||s.slideControls(!1),i.hashTags&&s.setHash(e),a>=0&&s.$el.trigger("slide_complete",s),"function"==typeof t&&t(s),i.autoPlayLocked&&!s.playing&&setTimeout(function(){s.startStop(!0)},i.resumeDelay-(i.autoPlayDelayed?i.delay:0))},s.fadeIt=function(e,t,a,n){var s=0>a?0:a;i.resumeOnVisible?e.filter(":not(:animated)").fadeTo(s,t,n):e.filter(":not(:animated)")[0===t?"fadeOut":"fadeIn"](s,n)},s.setCurrentPage=function(e,t){if(e=parseInt(e,10),!(s.pages<1||0===e||isNaN(e))){if(e>s.pages+1-s.adj&&(e=s.pages-s.adj),e<s.adj&&(e=1),i.buildArrows&&!i.infiniteSlides&&i.stopAtEnd&&(s.$forward[e===s.pages-s.adjustMultiple?"addClass":"removeClass"]("disabled"),s.$back[1===e?"addClass":"removeClass"]("disabled"),e===s.pages&&s.playing&&s.startStop()),!t){var a=s.getDim(e);s.$wrapper.css({width:a[0],height:a[1]}).add(s.$window).scrollLeft(0).scrollTop(0),s.$el.css(s.dir,"fade"===i.mode?0:-s.panelSize[i.infiniteSlides&&s.pages>1?e:e-1][2])}s.currentPage=e,s.$currentPage=s.$items.removeClass("activePage").eq(e-s.adj).addClass("activePage"),i.buildNavigation&&s.setNavigation(e)}},s.setNavigation=function(e){s.$nav.find(".cur").removeClass("cur").end().find("a").eq(e-1).addClass("cur")},s.makeActive=function(){s.$wrapper.hasClass("activeSlider")||(e(".activeSlider").removeClass("activeSlider"),s.$wrapper.addClass("activeSlider"))},s.gotoHash=function(){var t=s.win.location.hash,a=t.indexOf("&"),n=t.match(s.regex);return null!==n||/^#&/.test(t)||/#!?\//.test(t)?null!==n&&(n=i.hashTags?parseInt(n[1],10):null):(t=t.substring(0,a>=0?a:t.length),n=e(t).length&&e(t).closest(".anythingBase")[0]===s.el?s.$items.index(e(t).closest(".panel"))+s.adj:null),n},s.setHash=function(e){var t="panel"+s.runTimes+"-",a=s.win.location.hash;"undefined"!=typeof a&&(s.win.location.hash=a.indexOf(t)>0?a.replace(s.regex,t+e):a+"&"+t+e)},s.slideControls=function(e){var t=e?"slideDown":"slideUp",a=e?0:i.animationTime,n=e?i.animationTime:0,o=e?1:0,r=e?0:1;i.toggleControls&&s.$controls.stop(!0,!0).delay(a)[t](i.animationTime/2).delay(n),i.buildArrows&&i.toggleArrows&&(!s.hovered&&s.playing&&(r=1,o=0),s.$forward.stop(!0,!0).delay(a).animate({right:s.arrowRight+r*s.arrowWidth,opacity:o},i.animationTime/2),s.$back.stop(!0,!0).delay(a).animate({left:s.arrowLeft+r*s.arrowWidth,opacity:o},i.animationTime/2))},s.clearTimer=function(e){s.timer&&(s.win.clearInterval(s.timer),!e&&s.slideshow&&(s.$el.trigger("slideshow_stop",s),s.slideshow=!1))},s.startStop=function(e,t){e!==!0&&(e=!1),s.playing=e,e&&!t&&(s.$el.trigger("slideshow_start",s),s.slideshow=!0),i.buildStartStop&&(s.$startStop.toggleClass("playing",e).find("span").html(e?i.stopText:i.startText),"hidden"===s.$startStop.find("span").css("visibility")&&s.$startStop.addClass(i.tooltipClass).attr("title",e?i.stopText:i.startText)),e?(s.clearTimer(!0),s.timer=s.win.setInterval(function(){i.isVideoPlaying(s)?i.resumeOnVideoEnd||s.startStop():s.goForward(!0)},i.delay)):s.clearTimer()},s.init()},e.anythingSlider.defaults={theme:"default",mode:"horiz",expand:!0,resizeContents:!0,showMultiple:!1,easing:"swing",buildArrows:!0,buildNavigation:!0,buildStartStop:!0,toggleArrows:!1,toggleControls:!1,startText:"Start",stopText:"Stop",forwardText:"&rarr;",backText:"&larr;",tooltipClass:"tooltip",enableArrows:!0,enableNavigation:!0,enableStartStop:!0,enableKeyboard:!0,startPanel:1,changeBy:1,hashTags:!1,infiniteSlides:!0,navigationFormatter:null,navigationSize:!1,autoPlay:!1,autoPlayLocked:!1,autoPlayDelayed:!1,pauseOnHover:!0,stopAtEnd:!1,playRtl:!1,delay:3e3,resumeDelay:15e3,animationTime:600,delayBeforeAnimate:0,clickForwardArrow:"click",clickBackArrow:"click",clickControls:"click focusin",clickSlideshow:"click",allowRapidChange:!1,resumeOnVideoEnd:!0,resumeOnVisible:!0,addWmodeToObject:"opaque",isVideoPlaying:function(e){return!1}},e.fn.anythingSlider=function(t,a){return this.each(function(){var i,n=e(this).data("AnythingSlider");(typeof t).match("object|undefined")?n?n.updateSlider():new e.anythingSlider(this,t):/\d/.test(t)&&!isNaN(t)&&n?(i="number"==typeof t?t:parseInt(e.trim(t),10),i>=1&&i<=n.pages&&n.gotoPage(i,!1,a)):/^[#|.]/.test(t)&&e(t).length&&n.gotoPage(t,!1,a)})}}(jQuery);